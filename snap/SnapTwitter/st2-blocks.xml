<project name="st2-blocks" app="Snap! 4.2, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAACwklEQVR4Xu3XMWoqUQCG0Rtjbx/XFFvBQm1cR1bkKrIb7UMSkHnE6qVIHrzCD+RYWQg/893DzPgwTdM0fBSICjwAGJU3ey0AIAhpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgD/kPx6P43w+j+fn57FcLtNDuudxAH843ff397Hb7cbn5+c4nU7X75fLZRwOhzGfz+/ZxE2vDcBfcr++vo6Xl5exWCy+/ert7W3s9/sxTdPYbDY3PbB7GwPwPwB+3R232+2YzWZjvV7fm4mbXg+AvzyCv+5yHx8f13fBvx/Bj4+PNz2kex4D8B9/Qlar1Xh6erpnA+m1AZjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jfwBbGh23aAbkiQAAAABJRU5ErkJggg==</thumbnail><stage name="Stage" width="480" height="360" costume="0" tempo="60" threadsafe="false" lines="round" ternary="false" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list id="2"></list></costumes><sounds><list id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" rotation="1" draggable="true" costume="0" color="80,80,80" pen="tip" id="8"><costumes><list id="9"></list></costumes><sounds><list id="10"></list></sounds><blocks></blocks><variables></variables><scripts></scripts></sprite><watcher var="server" style="normal" x="10" y="10" color="243,118,29" hidden="true"/><watcher var="user" style="normal" x="10" y="31.000001999999995" color="243,118,29" hidden="true"/><watcher var="password" style="normal" x="10" y="52.00000399999999" color="243,118,29" hidden="true"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="%&apos;method&apos; url: %&apos;url&apos; send: %&apos;payload&apos; headers: %&apos;headers&apos; user %&apos;user&apos; password %&apos;password&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">GET<options>GET&#xD;POST&#xD;PUT&#xD;DELETE</options></input><input type="%s">http://snap.berkeley.edu</input><input type="%s"></input><input type="%mult%l" readonly="true"></input><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>method</l><l>url</l><l>data</l><l>headers</l><l>user</l><l>password</l><l>proc</l></list><l>var response, i, header;&#xD;if (!proc.httpRequest) {&#xD;  proc.httpRequest = new XMLHttpRequest();&#xD;  proc.httpRequest.open(method, url, true);&#xD;  proc.assertType(headers, &apos;list&apos;);&#xD;  proc.httpRequest.setRequestHeader(&apos;Authorization&apos;, &apos;Basic &apos; + window.btoa(user+":"+password));&#xD;  for (i = 1; i &lt;= headers.length(); i += 1) {&#xD;    header = headers.at(i);&#xD;    proc.assertType(header, &apos;list&apos;);&#xD;    proc.httpRequest.setRequestHeader(&#xD;      header.at(1),&#xD;      header.at(2)&#xD;    );&#xD;  }&#xD;  proc.httpRequest.send(data || null);&#xD;} else if (proc.httpRequest.readyState === 4) {&#xD;  response = proc.httpRequest.responseText;&#xD;  proc.httpRequest = null;&#xD;  return response;&#xD;}&#xD;proc.pushContext(&apos;doYield&apos;);&#xD;proc.pushContext();</l></block><list><block var="method"/><block var="url"/><block var="payload"/><block var="headers"/><block var="user"/><block var="password"/></list></block></block></script></block-definition><block-definition s="key: %&apos;key&apos; value: %&apos;value&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block var="key"/><block var="value"/></list></block></block></script></block-definition><block-definition s="current location" type="reporter" category="sensing"><comment x="0" y="0" w="200" collapsed="false">Reports a three-item list containing the latitude and longitude of the user, and the precision of the measurements.  Works only if the user allows snap.berkeley.edu access to location data.  Some browsers also require an HTTPS connection to Snap!.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>proc</l></list><l>if (!proc.geostarted) {&#xD;  var geo = navigator.geolocation;&#xD;  var cords = [];&#xD;  var options = {&#xD;    enableHighAccuracy: false,&#xD;  };&#xD;&#xD;  function success(pos) {&#xD;    console.log(pos);&#xD;    proc.geocords = [pos.coords.latitude,&#xD;                     pos.coords.longitude,&#xD;                     pos.coords.accuracy];&#xD;  }&#xD;&#xD;  function error(err) {&#xD;    alert("ERROR " + err.code + ": " + err.message);&#xD;  }&#xD;  proc.geostarted = true;&#xD;  proc.geocords = null;&#xD;  console.log("starting geolocation")&#xD;  geo.getCurrentPosition(success, error, options);&#xD;} else if (proc.geocords) {&#xD;  var cords = proc.geocords;&#xD;  proc.geostarted = null;&#xD;  proc.geocords = null;&#xD;  console.log("returning");&#xD;  return new List(cords);&#xD;} else {&#xD;  console.log("yielding");&#xD;  proc.pushContext(&apos;doYield&apos;);&#xD;  proc.pushContext();&#xD;}</l></block><list></list></block></block></script></block-definition><block-definition s="SnapTwitter request %&apos;req&apos;" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><custom-block s="set server to current host"></custom-block><block s="doDeclareVariables"><list><l>resp</l></list></block><block s="doIf"><block s="reportLessThan"><block s="reportStringSize"><block var="server"/></block><l>2</l></block><script><block s="doSetVar"><l>server</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter server URL:");</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportOr"><block s="reportLessThan"><block s="reportStringSize"><block var="user"/></block><l>2</l></block><block s="reportLessThan"><block s="reportStringSize"><block var="password"/></block><l>2</l></block></block><script><block s="doSetVar"><l>user</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter username:");</l></block><list></list></block></block><block s="doSetVar"><l>password</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter password:");</l></block><list></list></block></block></script></block><block s="doSetVar"><l>resp</l><custom-block s="%s url: %s send: %s headers: %mult%l user %s password %s"><l>GET</l><block s="reportJoinWords"><list><block var="server"/><l>/</l><block var="req"/></list></block><l></l><list></list><block var="user"/><block var="password"/></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportGreaterThan"><block s="reportStringSize"><block var="resp"/></block><l>0</l></block></block><script><block s="doReport"><l></l></block></script></block><block s="doReport"><block var="resp"/></block></script><scripts><script x="55" y="490"><block s="doIf"><block s="reportEquals"><block var="resp"/><l>unauthorized</l></block><script><block s="doSetVar"><l>user</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter username:");</l></block><list></list></block></block><block s="doSetVar"><l>password</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter password:");</l></block><list></list></block></block></script></block><block s="doSetVar"><l>resp</l><custom-block s="%s url: %s send: %s headers: %mult%l user %s password %s"><l>GET</l><block s="reportJoinWords"><list><block var="server"/><l>/</l><block var="req"/></list></block><l></l><list></list><block var="user"/><block var="password"/></custom-block></block></script></scripts></block-definition><block-definition s="map: initialize" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if(document.getElementById("leaflet_div") === null)&#xD;{&#xD;	var css = document.createElement(&apos;link&apos;);&#xD;	css.setAttribute("rel","stylesheet");&#xD;	css.setAttribute("href", "SnapTwitter/leaflet/leaflet.css");&#xD; document.getElementsByTagName("head")[0].appendChild(css);&#xD; &#xD; var sc = document.createElement(&apos;script&apos;);&#xD;	sc.setAttribute("type","text/javascript");&#xD;	sc.setAttribute("src", "SnapTwitter/leaflet/leaflet.js");&#xD;	document.getElementsByTagName("head")[0].appendChild(sc);&#xD; &#xD; clusteringLoaded = false;&#xD;}&#xD;&#xD;if(document.getElementById("leaflet_div") !== null) {&#xD; var el = document.getElementById("leaflet_div");&#xD; el.parentNode.removeChild(el);&#xD;}&#xD;var d = document.createElement(&apos;div&apos;);&#xD;d.setAttribute("id","leaflet_div");&#xD;document.getElementsByTagName("body")[0].appendChild(d);&#xD;&#xD;&#xD;stage = this.parentThatIsA(StageMorph);&#xD;document.getElementById("leaflet_div").setAttribute("width", stage.width());&#xD;document.getElementById("leaflet_div").setAttribute("height", stage.height());&#xD;document.getElementById("leaflet_div").style.width = stage.width()+"px";&#xD;document.getElementById("leaflet_div").style.height = stage.height()+"px";&#xD;document.getElementById("leaflet_div").style.position = "absolute";&#xD;document.getElementById("leaflet_div").style.left = stage.topLeft().x+"px";&#xD;document.getElementById("leaflet_div").style.top = stage.topLeft().y+"px";&#xD;document.getElementById("leaflet_div").style.display = "block";&#xD;document.getElementById("leaflet_div").style.backgroundColor = "black";&#xD;&#xD;setTimeout(function() {&#xD;map = L.map(&apos;leaflet_div&apos;).setView([51.505, -0.09], 0);&#xD;&#xD;satelliteLayer = L.tileLayer(&apos;https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}&apos;, {&#xD;	attribution: &apos;Tiles &amp;copy; Esri &amp;mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community&apos;&#xD;});&#xD;streetLayer = L.tileLayer(&apos;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&apos;, {&#xD;    attribution: &apos;&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors&apos;&#xD;});&#xD;&#xD;streetLayer.addTo(map);&#xD;&#xD;markerGroup = L.layerGroup().addTo(map);&#xD;}, 500);</l></block><list></list></block></script></block-definition><block-definition s="map: add marker at longitude %&apos;long&apos; latitude %&apos;lat&apos; size %&apos;size&apos; color %&apos;color&apos;" type="command" category="map"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input><input type="%n">5</input><input type="%txt" readonly="true">#0000ff<options>blue=#0000ff&#xD;green=#008000&#xD;red=#ff0000&#xD;yellow=#ffff00&#xD;orange=#ffc300&#xD;brown=#a04000&#xD;black=#000&#xD;white=#fff</options></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>long</l><l>lat</l><l>size</l><l>color</l></list><l>if(document.getElementById("leaflet_div") === null)&#xD;{&#xD;	alert("Initialize the map first");&#xD;}&#xD;&#xD;var marker = L.circleMarker([long, lat]);&#xD;marker.setRadius(size);&#xD;marker.options.color=color;&#xD;marker.addTo(markerGroup);</l></block><list><block var="long"/><block var="lat"/><block var="size"/><block var="color"/></list></block></script></block-definition><block-definition s="map: remove all markers" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if(document.getElementById("leaflet_div") === null)&#xD;{&#xD;	alert("Initialize the map first");&#xD;}&#xD;&#xD;markerGroup.clearLayers();</l></block><list></list></block></script></block-definition><block-definition s="SnapTwitter: get tweet" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="SnapTwitter request %s"><l>twitter/get/complete</l></custom-block></block></script></block-definition><block-definition s="SnapTwitter: get text from tweet %&apos;tweet&apos;" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs><input type="%obj"></input></inputs><script><block s="doReport"><custom-block s="SnapTwitter: read %s from tweet %obj"><l>text</l><block var="tweet"/></custom-block></block></script></block-definition><block-definition s="SnapTwitter POST %&apos;req&apos; data %&apos;data&apos;" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><custom-block s="set server to current host"></custom-block><block s="doDeclareVariables"><list><l>resp</l></list></block><block s="doIf"><block s="reportLessThan"><block s="reportStringSize"><block var="server"/></block><l>2</l></block><script><block s="doSetVar"><l>server</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter server URL:");</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportOr"><block s="reportLessThan"><block s="reportStringSize"><block var="user"/></block><l>2</l></block><block s="reportLessThan"><block s="reportStringSize"><block var="password"/></block><l>2</l></block></block><script><block s="doSetVar"><l>user</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter username:");</l></block><list></list></block></block><block s="doSetVar"><l>password</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter password:");</l></block><list></list></block></block></script></block><block s="doSetVar"><l>resp</l><custom-block s="%s url: %s send: %s headers: %mult%l user %s password %s"><l>POST</l><block s="reportJoinWords"><list><block var="server"/><l>/</l><block var="req"/></list></block><block var="data"/><list><block s="reportNewList"><list><l>Content-Type</l><l>application/json</l></list></block></list><block var="user"/><block var="password"/></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportGreaterThan"><block s="reportStringSize"><block var="resp"/></block><l>0</l></block></block><script><block s="doReport"><l></l></block></script></block><block s="doIf"><block s="reportEquals"><block var="resp"/><l>unauthorized</l></block><script><block s="doSetVar"><l>user</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter username:");</l></block><list></list></block></block><block s="doSetVar"><l>password</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return prompt("Please enter password:");</l></block><list></list></block></block><block s="doSetVar"><l>resp</l><custom-block s="%s url: %s send: %s headers: %mult%l user %s password %s"><l>POST</l><block s="reportJoinWords"><list><block var="server"/><l>/</l><block var="req"/></list></block><block var="data"/><list><block s="reportNewList"><list><l>Content-Type</l><l>application/json</l></list></block></list><block var="user"/><block var="password"/></custom-block></block></script></block><block s="doReport"><block var="resp"/></block></script></block-definition><block-definition s="SnapTwitter: read %&apos;attrib&apos; from tweet %&apos;tw&apos;" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%obj"></input></inputs><script><block s="doReport"><custom-block s="SnapTwitter POST %s data %s"><block s="reportJoinWords"><list><l>json/get/attrib/</l><block var="attrib"/></list></block><block var="tw"/></custom-block></block></script></block-definition><block-definition s="SnapTwitter: get geo from tweet %&apos;tweet&apos;" type="reporter" category="twitter"><header></header><code></code><translations></translations><inputs><input type="%obj"></input></inputs><script><block s="doReport"><custom-block s="SnapTwitter POST %s data %s"><l>json/get/geo</l><block var="tweet"/></custom-block></block></script></block-definition><block-definition s="map: add marker at position %&apos;geo&apos; size %&apos;size&apos; color %&apos;color&apos;" type="command" category="map"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%n">5</input><input type="%txt" readonly="true">#0000ff<options>blue=#0000ff&#xD;green=#008000&#xD;red=#ff0000&#xD;yellow=#ffff00&#xD;orange=#ffc300&#xD;brown=#a04000&#xD;black=#000&#xD;white=#fff</options></input></inputs><script><custom-block s="map: add marker at position %s size %n color %txt popup text %s"><block var="geo"/><block var="size"/><block var="color"/><l></l></custom-block></script></block-definition><block-definition s="map: add marker at position %&apos;geo&apos; size %&apos;size&apos; color %&apos;color&apos; popup text %&apos;text&apos;" type="command" category="map"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%n">5</input><input type="%txt" readonly="true">#0000ff<options>blue=#0000ff&#xD;green=#008000&#xD;red=#ff0000&#xD;yellow=#ffff00&#xD;orange=#ffc300&#xD;brown=#a04000&#xD;black=#000&#xD;white=#fff</options></input><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>geo</l><l>size</l><l>color</l><l>text</l></list><l>if(document.getElementById("leaflet_div") === null)&#xD;{&#xD;	alert("Initialize the map first");&#xD;}&#xD;&#xD;coords = geo.split(";");&#xD;&#xD;var marker = L.circleMarker([coords[0], coords[1]]);&#xD;marker.setRadius(size);&#xD;marker.options.color=color;&#xD;&#xD;if(text == "")&#xD; marker.addTo(markerGroup);&#xD;else&#xD; marker.addTo(markerGroup).bindPopup(text);</l></block><list><block var="geo"/><block var="size"/><block var="color"/><block var="text"/></list></block></script></block-definition><block-definition s="map: hide" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>document.getElementById("leaflet_div").style.display = "none";</l></block><list></list></block></script></block-definition><block-definition s="map: show" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>document.getElementById("leaflet_div").style.display = "block";</l></block><list></list></block></script></block-definition><block-definition s="map: enable clustering" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if(!clusteringLoaded) {&#xD;	var css2 = document.createElement(&apos;link&apos;);&#xD; css2.setAttribute("rel","stylesheet");&#xD;	css2.setAttribute("href", "SnapTwitter/leaflet/MarkerCluster.css");&#xD; var css3 = document.createElement(&apos;link&apos;);&#xD;	css3.setAttribute("rel","stylesheet");&#xD;	css3.setAttribute("href", "SnapTwitter/leaflet/MarkerCluster.default.css");&#xD;	document.getElementsByTagName("head")[0].appendChild(css3);&#xD; var sc2 = document.createElement(&apos;script&apos;);&#xD;	sc2.setAttribute("type","text/javascript");&#xD;	sc2.setAttribute("src", "SnapTwitter/leaflet/leaflet.markercluster.js");&#xD;	document.getElementsByTagName("head")[0].appendChild(sc2);&#xD;}&#xD;&#xD;var time = 0;&#xD;if(!clusteringLoaded) {&#xD; clusteringLoaded = true;&#xD; time = 800;&#xD;}&#xD;&#xD;setTimeout(function() { &#xD; var markerClusterGroup = L.markerClusterGroup();&#xD; markerClusterGroup.addLayers(markerGroup.getLayers());&#xD; map.removeLayer(markerGroup);&#xD; markerGroup = markerClusterGroup;&#xD; map.addLayer(markerGroup);&#xD;}, 800);</l></block><list></list></block></script></block-definition><block-definition s="map: reset position and size" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if(document.getElementById("leaflet_div") !== null) {&#xD;  stage = this.parentThatIsA(StageMorph);&#xD;  document.getElementById("leaflet_div").setAttribute("width", stage.width());&#xD;  document.getElementById("leaflet_div").setAttribute("height", stage.height());&#xD;  document.getElementById("leaflet_div").style.width = stage.width()+"px";&#xD;  document.getElementById("leaflet_div").style.height = stage.height()+"px";&#xD;  document.getElementById("leaflet_div").style.position = "absolute";&#xD;  document.getElementById("leaflet_div").style.left = stage.topLeft().x+"px";&#xD;  document.getElementById("leaflet_div").style.top = stage.topLeft().y+"px";&#xD;  document.getElementById("leaflet_div").style.display = "block";&#xD;  document.getElementById("leaflet_div").style.backgroundColor = "black";&#xD;}</l></block><list></list></block></script></block-definition><block-definition s="map: disable clustering" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var markerNormalGroup = L.layerGroup();&#xD;for (let l of markerGroup.getLayers())&#xD;    markerNormalGroup.addLayer(l);&#xD;map.removeLayer(markerGroup);&#xD;markerGroup = markerNormalGroup;&#xD;map.addLayer(markerGroup);</l></block><list></list></block></script></block-definition><block-definition s="map: switch to satellite view" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>streetLayer.removeFrom(map);&#xD;satelliteLayer.addTo(map);</l></block><list></list></block></script></block-definition><block-definition s="map: switch to street view" type="command" category="map"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>satelliteLayer.removeFrom(map);&#xD;streetLayer.addTo(map);</l></block><list></list></block></script></block-definition><block-definition s="set server to current host" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>server</l><block s="evaluate"><block s="reportJSFunction"><list></list><l>return window.location.protocol + "//" + window.location.host;</l></block><list></list></block></block></script></block-definition></blocks><variables><variable name="server"><l>0</l></variable><variable name="user"><l>0</l></variable><variable name="password"><l>0</l></variable></variables></project>